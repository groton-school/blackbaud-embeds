<!-- for more information about this snippet, visit https://github.com/groton-school/blackbaud-embeds/tree/main/embeds/bulletin-board#redirect -->
<script>
  /*
   * TODO caption this as {{redirect:URL THAT YOU WANT TO REDIRECT TO}}
   */

  const override = new URLSearchParams(location.search).get('override');
  Array.from(document.querySelectorAll('.bulletin.thumbnail, .contentContainer')).forEach((c) => {
    const match = c.innerText.match(/{{redirect:(.+)}}/);
    if (match) {
      if (!override) {
        c.innerHTML = `If you are not immediately redirected, <a href="${match[1]}">click this link.</a>`;
        document.location.href = match[1];
      } else {
        alert(
          'You would have been redirected to ' +
            match[1] +
            ' if the override URL parameter was not present'
        );
      }
    }
  });
</script>
